(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{665:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"stateToValue",function(){return stateToValue}),__webpack_require__.d(__webpack_exports__,"default",function(){return HTMLField});var _class,_class2,_temp,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(39),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__),react_draft_wysiwyg__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__(625),__webpack_require__(627),__webpack_require__(629)),draft_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(97),react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),_utils_html__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(164),_utils__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(10),stateFromValue=function stateFromValue(value,fast){return value?fast?value:Object(_utils_html__WEBPACK_IMPORTED_MODULE_15__.a)(value):draft_js__WEBPACK_IMPORTED_MODULE_13__.EditorState.createEmpty()},stateToValue=function stateToValue(editorState,fast){return fast?editorState:Object(_utils_html__WEBPACK_IMPORTED_MODULE_15__.b)(editorState)},inputValue=function inputValue(v,fast){return fast?v&&v.getCurrentContent().getBlockMap().first().getText()?"_":"":v},HTMLField=Object(_utils__WEBPACK_IMPORTED_MODULE_16__.a)((_temp=_class2=function(_React$PureComponent){function HTMLField(props){var _this;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default()(this,HTMLField),(_this=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(HTMLField).call(this,props))).state={editorState:null,value:null},_this.handleChange=_this.handleChange.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default()(_this)),_this.handleFocus=_this.handleFocus.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default()(_this)),_this.handleBlur=_this.handleBlur.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8___default()(_this)),_this}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9___default()(HTMLField,_React$PureComponent),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_5___default()(HTMLField,[{key:"handleChange",value:function handleChange(editorState){var _this$props=this.props,current=_this$props.elementRef.current,fast=_this$props.fast,onChange=_this$props.onChange,value=Object(_utils_html__WEBPACK_IMPORTED_MODULE_15__.c)(stateToValue(editorState,fast),fast);current.value=inputValue(value,fast),this.setState({editorState:editorState,value:value}),onChange(value)}},{key:"handleFocus",value:function handleFocus(e){(0,this.props.onFocus)(e)}},{key:"handleBlur",value:function handleBlur(e){(0,this.props.onBlur)(e)}},{key:"render",value:function render(b){var _this$props2=this.props,className=_this$props2.className,elementRef=_this$props2.elementRef,i18n=_this$props2.i18n,readOnly=_this$props2.readOnly,value=_this$props2.value,disabled=_this$props2.disabled,onKeyDown=(_this$props2.onFocus,_this$props2.onBlur,_this$props2.onKeyDown),toolbar=_this$props2.toolbar,fast=_this$props2.fast,placeholder=_this$props2.placeholder,props=(_this$props2.type,_this$props2.onChange,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_this$props2,["className","elementRef","i18n","readOnly","value","disabled","onFocus","onBlur","onKeyDown","toolbar","fast","placeholder","type","onChange"])),editorState=this.state.editorState,HTMLToolbar=toolbar||{image:{uploadCallback:function(){var _uploadCallback=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(file){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(_utils__WEBPACK_IMPORTED_MODULE_16__.e)(file);case 2:return _context.t0=_context.sent,_context.t1={link:_context.t0},_context.abrupt("return",{data:_context.t1});case 5:case"end":return _context.stop()}},_callee)}));return function uploadCallback(_x){return _uploadCallback.apply(this,arguments)}}(),previewImage:!0,alt:{present:!0,mandatory:!1}}};return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:b},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react_draft_wysiwyg__WEBPACK_IMPORTED_MODULE_12__.Editor,{editorClassName:b.e("editor"),editorState:editorState,localization:{locale:"fr"},onFocus:this.handleFocus,onBlur:this.handleBlur,onEditorStateChange:this.handleChange,handleReturn:onKeyDown,placeholder:placeholder||i18n.html.placeholder,readOnly:readOnly||disabled,toolbar:HTMLToolbar,toolbarClassName:b.e("toolbar"),wrapperClassName:b.e("wrapper")}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("input",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({className:b.e("hidden-input").mix(className),ref:elementRef},props,{value:inputValue(value,fast),onChange:_utils__WEBPACK_IMPORTED_MODULE_16__.d,type:"text"})))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(_ref,_ref2){var current=_ref.elementRef.current,fast=_ref.fast,value=_ref.value;return value!==_ref2.value?(value=Object(_utils_html__WEBPACK_IMPORTED_MODULE_15__.c)(value,fast),current&&(current.value=inputValue(value,fast)),{editorState:stateFromValue(value,fast),value:value}):null}}]),HTMLField}(react__WEBPACK_IMPORTED_MODULE_14___default.a.PureComponent),_class2.displayName="HTMLField",_class=_temp))||_class}}]);
//# sourceMappingURL=HTMLField.d26e29e3381505e7c1ad.bundle.js.map